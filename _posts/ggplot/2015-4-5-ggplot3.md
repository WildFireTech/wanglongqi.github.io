---
author: Longqi
comments: true
date: 2015-04-05 19:24:04
layout: post
slug: ggplot3
title: 用ggplot绘图（三）
categories: [ggplot]
tags:
- R
- Visualization
- ggplot
---
<div id="geometry" class="section level1">
<h1><span class="header-section-number">1</span> 说说geom[etry]</h1>
<p>很显然<code>geom_*</code>中geom就是geometry的缩写，所以<code>geom_*</code>是用来定义用什么样的几何属性来显示数据的。这基本是大部分图形库对于图像的定义，一来你需要回答的是你要画散点图呢，还是曲线图呢，是多边形呢还是其他的。然后再去看怎么用每个函数。ggplot在这方面使用<code>geom_*</code>来构建这种映射。</p>

<p>需要注意到的是通常情况下的几何属性其实有两类，这一点在ggplot里得到了区分。一类几何属性仅描述绘制图像的几何内容，比如用点，曲线，多边形等等来显示数据；另外一类是几何性质与统计特性的结合，比如直方图，光滑曲线，回归曲线等等。第一类是单纯的几何形式，用来构造数据和几何属性间的一一映射，第二类则先对数据进行统计分析，然后再和几何属性联系起来。原则上讲，绘图库的几何映射只应该包括第一类函数。这样的设置固然优美和统一，不过现实往往是残酷的，往往为了使用者的少输入字符或者不明真相的用户的方便，绘图库设计者不得不做一些退让。ggplot正是那么做的。在ggplot中，<code>geom_*</code>同时提供了这两类函数。从文档上可以明显的感觉出设计者在这一方面的退让，对于第二类函数文档会在醒目位置提醒用户这个函数是某个<code>stat_*</code>函数和某个<code>geom_*</code>函数的结合。其中，<code>stat_*</code>函数是用来对数据进行统计变换的。如果用户想对数据的统计变换方式加以控制，你需要到<code>stat_*</code>函数部分查看选项，因为这个函数实际上是那两个函数的简单叠加。</p>
<p>大部分ggplot的函数意义都是自明的，我觉得给予逐一的解释和范例意义并不大。我们下面展示一下ggplot里面的几个常用geom类型的绘图实例。</p>
<div id="geom_point" class="section level2">
<h2><span class="header-section-number">1.1</span> 散点几何形式：geom_point</h2>
<p>顾名思义，这个函数就是一般函数库里的散点图。下面我们用散点图来研究一下mtcars的数据，对于mtcars的数据变量的简单介绍如下：</p>
<pre><code>[, 1]   mpg  Miles/(US) gallon
[, 2]    cyl     Number of cylinders
[, 3]    disp    Displacement (cu.in.)
[, 4]    hp  Gross horsepower
[, 5]    drat    Rear axle ratio
[, 6]    wt  Weight (lb/1000)
[, 7]    qsec    1/4 mile time
[, 8]    vs  V/S
[, 9]    am  Transmission (0 = automatic, 1 = manual)
[,10]    gear    Number of forward gears
[,11]    carb    Number of carburetors</code></pre>
<p>我们可以用以下散点图来研究一下质量和耗油量的关系，同时可以看看不同质量和耗油量的车辆的气缸数量和前置齿轮数量之间的关系。</p>
<pre class="r"><code>library(ggplot2)
data(mtcars)
mtcars$cyl &lt;- factor(mtcars$cyl)
p &lt;- ggplot(mtcars,aes(wt, mpg, size=gear, color=cyl))
p + geom_point()</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>这个图像的信息量很大，看起来也有点复杂，特别是对于第一次接触高维数据分析的人。这个图是一个典型的四维数据分析图，从图中首先可以看到随着质量的增加耗油量在减小，而且关系似乎是线性的。实际上我们可以通过添加回归线来查看这一关系。</p>
<pre class="r"><code>p &lt;- ggplot(mtcars,aes(wt, mpg))
p &lt;- p + geom_point(aes(size=gear, color=cyl)) 
p + geom_smooth(method=lm, fill='lightblue', color='darkblue', size=1) </code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>可以看到数据的线性还是不错的，当然<code>geom_smooth</code>不止可以线性回归了，下面是用<code>loess</code>光滑的结果：</p>
<pre class="r"><code>p + geom_smooth(method=loess, color='red', fill='green', size=1)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>实际上，要完整理解上面两个例子，需要在讨论了层之后，所以关于散点图的内容就先说到这里了。</p>
</div>
<div id="geom_bar" class="section level2">
<h2><span class="header-section-number">1.2</span> 柱状图：geom_bar</h2>
<p>第二个我们要讨论的<code>geom_*</code>命令是<code>geo_bar</code>，而不是<code>geom_line</code>。这是因为<code>geom_line</code>和<code>geom_point</code>的区别很小，如果你学会了<code>geom_point</code>，你也就学会了<code>geom_line</code>唯一的区别是一个使用散点图来表示，一个是用折线来表示。</p>
<p><code>geom_bar</code>的设计是比较奇怪的，我估计主要的考虑是一般使用这个函数是需要绘制一个变量的直方图，所以默认的这个函数会使用<code>stat_bin</code>作为统计函数，而不是和其他函数统一的<code>stat_identity</code>。如果你需要直接将数据的值作为bar的高度，那么你需要修改默认的<code>stat</code>参数为<code>identity</code>。由于这破坏了ggplot的统一性，我们下面给一个例子：</p>
<pre class="r"><code>dummy &lt;- data.frame(x=1:4, y=c(65,23,78,99))
ggplot(dummy, aes(x, y, fill=y)) + geom_bar(stat='identity')</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>如果需要分析不同的气缸数量的车辆重量的直方图，可以这样来查看：</p>
<pre class="r"><code>ggplot(mtcars, aes(wt,fill=cyl)) + geom_bar(binwidth=.345)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="r"><code>ggplot(mtcars, aes(wt,fill=cyl)) + geom_bar(binwidth=.345, pos='dodge')</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="r"><code>ggplot(mtcars, aes(wt,fill=cyl)) + geom_bar(binwidth=.345, pos='fill')</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>上例中后面两图演示了不同的位置放置的直方图，这实际上是通过<code>position_*</code>的函数实现的。其中，<code>dodge</code>是将直方图独立开来显示，默认值是<code>stack</code>，是将同一x值的y值叠加起来。第三个比较特殊，叫做<code>fill</code>会将每个x值的数据归一化到1，然后计算每种类型的百分比。</p>
<p>到这里你是不是感觉ggplot好复杂啊，而且有些地方好像不对。ggplot怎么知道是要把整个数据当作一个集合，还是按照某个变量分类呢？比如说，上面的线性回归一例，ggplot怎么知道是对所有数据进行回归，还是按照其他规则分别回归呢？比如：</p>
<pre class="r"><code>p &lt;- ggplot(mtcars,aes(wt, mpg, size=gear, color=cyl))
p + geom_point() + geom_smooth(method='lm', size=1)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>答案是层，所以下一节我们要讨论层的概念。</p>
</div>
</div>
